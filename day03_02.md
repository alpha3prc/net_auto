---
marp: true
theme: gaia
size: 16:9
headingDivider: [2,3]
paginate: true
---
# 05
- urllib应用

## url进阶
<!-- _class: lead -->

## 模拟客户端

*   有些网页为了防止别人恶意采集其信息所以进行了一些反爬虫的设置，而我们又想进行爬取
*   可以设置一些Headers信息（User-Agent），模拟成浏览器去访问这些网站

```python
import urllib.request
url='http://www.tedu.cn'
hearder={
 'User-Agent':'Mozilla/5.0 (X11; Fedora; Linux x86_64)
AppleWebKit/537.36 (KHTML, like Gecko)
Chrome/58.0.3029.110 Safari/537.36'
}
html=urllib.request.Request(url,headers=header)
data=urllib.request.urlopen(request).read()
```

### 示例代码:

```python
url = 'http://www.jianshu.com'
from urllib import request
r = request.urlopen(url)
```

#### 加入header

```python
headers = {'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0'}
r = request.Request(url, headers=headers)
```

